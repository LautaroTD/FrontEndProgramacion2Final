@using FrontEndProgramacion2Final.Services
@using FrontEndProgramacion2Final.DTO
@page "/ExplorarCatalogo"
@inject HttpClient Http
@inject ArticuloService articuloService

<h3>ExplorarCatalogo</h3>

@if (productos == null)
{
    <p>Cargando...</p>
}
else
{
    <div class="btn-group-vertical mb-3">
        @foreach (var grupo in gruposPaginados)
        {
            <button class="btn btn-primary"
                    @onclick="@(() => ToggleGrupo(grupo.Nombre))">
                @grupo.Nombre
            </button>

            @if (grupo.IsExpanded)
            {
                <ul class="list-group list-group-flush">
                    @foreach (var item in grupo.Items)
                    {
                        <li class="list-group-item">
                            @item.Descripcion
                        </li>
                    }
                </ul>
            }
        }
    </div>

    <nav aria-label="Paginación">
        <ul class="pagination">
            <li class="page-item @(paginaActual == 1 ? "disabled" : "")">
                <button class="page-link" @onclick="PrevPage">Anterior</button>
            </li>
            <li class="page-item @(paginaActual == totalPaginas ? "disabled" : "")">
                <button class="page-link" @onclick="NextPage">Siguiente</button>
            </li>
        </ul>
    </nav>
}

@code {
    
}
